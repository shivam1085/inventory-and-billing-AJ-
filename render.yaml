services:
- type: web
  name: inventory-billing
  env: python
  # Build: install deps + collectstatic only (no migrate; DB may not be accessible yet)
  buildCommand: bash scripts/render-build.sh
  # Start: run migrations then start gunicorn
  startCommand: bash scripts/render-start.sh
  envVars:
  - key: PYTHON_VERSION
    value: 3.13.0
  - key: DJANGO_SECRET_KEY
    value: ${DJANGO_SECRET_KEY}
  - key: DJANGO_DEBUG
    value: "False"
  - key: DJANGO_ALLOWED_HOSTS
    value: "*"
  # External Postgres (set this in dashboard with real URL, e.g. postgres://user:pass@host/dbname)
  - key: DATABASE_URL
    value: ""
  # Firestore / Firebase configuration (fill these in via the Render Dashboard)
  - key: FIREBASE_ENABLED
    value: "false"
  - key: FIREBASE_PROJECT_ID
    value: ""
  - key: FIREBASE_CRED_JSON
    value: "" # Full JSON service account string (DO NOT COMMIT)
  - key: FIREBASE_SOR
    value: "false" # Flip to true only after backfill
  # Health endpoint tokens
  - key: DB_STATUS_TOKEN
    value: ""
  - key: FIREBASE_STATUS_TOKEN
    value: ""
  - key: CLOUDINARY_CLOUD_NAME
    value: shivam1085
  - key: CLOUDINARY_API_KEY
    value: 839322377597543
  - key: CLOUDINARY_API_SECRET
    value: s6K7FGz4TFZGhdXpzqKumY9Vmxw
  # Removed disk section: free plan has no persistent disk; using external Postgres instead.
